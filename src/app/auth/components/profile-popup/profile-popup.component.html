<div *ngIf="showPopup">
    <div class="overlay"></div>
    <div class="popup fixed inset-0 flex flex-col items-center justify-center">
        <div class="bg-white p-4 rounded-lg">
            <div class="flex justify-between items-center">
                <h3 class="text-gray-900 font-semibold text-lg mb-2">Editar perfil</h3>
                <button (click)="hide()" class="flex justify-center items-center p-2 rounded-full transition-all hover:bg-gray-200 text-gray-600">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24px" height="24px"><path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"/></svg>                </button>
            </div>
            <form [formGroup]="editForm" class="grid grid-cols-2 gap-4">
                <div>
                    <label for="name" class="block text-gray-700 font-semibold mb-1">Nombre:</label>
                    <input type="text" id="name" formControlName="name" class="border border-gray-300 rounded-md px-3 py-2 w-full">
                    <span class="text-xs text-red-500"  *ngIf="notValid('name')">
                        El nombre es obligatorio
                    </span>
                </div>
                <div>
                    <label for="username" class="block text-gray-700 font-semibold mb-1">Nombre de usuario:</label>
                    <input type="text" id="username" formControlName="username" class="border border-gray-300 rounded-md px-3 py-2 w-full">
                    <span class="text-xs text-red-500"  *ngIf="notValid('username')">
                        El nombre de usuario es obligatorio
                    </span>
                </div>
                <div>
                    <span class="block text-gray-700 font-semibold mb-1">Imagen:</span>
                    <ngx-dropzone accept="image/jpeg,image/jpg,image/png" class="w-full flex flex-col items-center justify-center px-4" (change)="onSelect($event)">
                        <ngx-dropzone-label>Arrastra las imágenes del producto</ngx-dropzone-label>
                        <ngx-dropzone-image-preview ngProjectAs="ngx-dropzone-preview" *ngFor="let f of files" [file]="f" [removable]="true" (removed)="onRemove(f)"></ngx-dropzone-image-preview>
                    </ngx-dropzone>
                </div>                
                <div>
                    <label for="email" class="block text-gray-700 font-semibold mb-1">Correo electrónico:</label>
                    <input type="email" id="email" formControlName="email" class="border border-gray-300 rounded-md px-3 py-2 w-full">
                    <span class="text-xs text-red-500"  *ngIf="notValid('email')">
                        El email es obligatorio
                    </span>
                </div>
            </form>
            <div class="flex justify-center mt-6">
                <button (click)="saveChanges()" class="px-4 py-2 bg-gray-200 text-gray-700 rounded-lg disabled:cursor-not-allowed">Guardar cambios</button>
            </div>
        </div>
    </div>
</div>